---
title: "Run cleigenwords with monolingual corpus"
author: "OSHIKIRI Takamasa"
date: "`r Sys.time()`"
output: html_document
---

```{r}
time.begin <- Sys.time()

source("./../src/kadingir.R", chdir = TRUE)
source("./../src/cleigenwords.R", chdir = TRUE)
```

```{r}
paths.corpus <- c("./../data/europarl/europarl-v7.de-en.en.tokenized.100000")

res.cleigenwords <- CLEigenwords(paths.corpus, sizes.vocabulary=c(1000), dim.common=50,
                                 sizes.window = c(2), aliases.languages=c("en"), plot = TRUE,
                                 weight.vsdoc = c(1.0))

save(res.cleigenwords, file = "res_cleigenwords_monolingual.Rdata")
```

```{r}
pp <- res.cleigenwords$svd$p_head_domains
V.en <- res.cleigenwords$svd$V[(pp[1]+1):pp[2], ]
vocab.sizes <- res.cleigenwords$vocab.sizes
vocab.words.en <- res.cleigenwords$vocab.words[[1]]
```

```{r}
MostSimilar(V.en, vocab.words.en, positive=c("he"), distance = "cosine")
MostSimilar(V.en, vocab.words.en, positive=c("woman"), distance = "cosine")
TestGoogleTasks(V.en, vocab.words.en, n.cores = 10)
TestWordsim353(V.en, vocab.words.en)
```

```{r}
Sys.time() - time.begin
Sys.time()
```